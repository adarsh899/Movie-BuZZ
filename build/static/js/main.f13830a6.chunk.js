(this["webpackJsonpmovie-website"]=this["webpackJsonpmovie-website"]||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},42:function(e,t,a){e.exports=a(73)},47:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),l=a.n(r),s=(a(47),a(17)),o=a(3),i=(a(11),a(8)),m=a(5);a(13);var u=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),u=i[0],d=i[1],b=Object(n.useState)(!1),f=Object(o.a)(b,2),v=f[0],g=f[1];return Object(n.useEffect)((function(){e.getValue(u)}),[u]),c.a.createElement("form",{className:"form-inline flex-nowrap",onSubmit:function(t){t.preventDefault(),g(!0),d(r),e.getValue(u),l("")}},c.a.createElement("input",{id:"input",className:"form-control mr-sm-2",type:"search",placeholder:"Search Movie","aria-label":"Search",name:"search",value:r,onChange:function(e){l(e.target.value)}}),c.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit",value:"submit"},"Search"),v&&c.a.createElement(m.a,{to:{pathname:"/search",search:"?search=".concat(u)}}))};var d=function(e){function t(t){e.getValue(t)}function a(){t("")}return c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-light fixed-top flex-row-reverse bg-dark"},c.a.createElement("label",{htmlFor:"btn-menu"},"\u2630"),c.a.createElement(u,{getValue:t})),c.a.createElement("input",{type:"checkbox",id:"btn-menu"}),c.a.createElement("nav",{className:"navbar"},c.a.createElement("ul",{className:"nav-links"},c.a.createElement(i.b,{to:"/popular",onClick:a},c.a.createElement("li",null,"Popular")),c.a.createElement(i.b,{to:"/top_rated",onClick:a},c.a.createElement("li",null,"Top Rated")),c.a.createElement(i.b,{to:"/now_playing",onClick:a},c.a.createElement("li",null,"Now Playing")),c.a.createElement(i.b,{to:"/upcoming",onClick:a},c.a.createElement("li",null,"Upcoming Movies")),c.a.createElement(i.b,{to:"/about"},c.a.createElement("li",null,"About")),c.a.createElement(i.b,{to:"/discover"},c.a.createElement("li",null,"Discover")),c.a.createElement(i.b,{to:"/favorites"},c.a.createElement("li",null,"Favorites")),c.a.createElement(i.b,{to:"/ratings"},c.a.createElement("li",null,"My Rated Movies")))))},b=a(4),f=a.n(b),v=a(16),g=a.n(v),p=a(15),E=a.n(p),h=a(18),O=a(21),j=a(22);var N=function(e){var t=Object(n.useState)(JSON.parse(localStorage.getItem("favorites"))||[]),a=Object(o.a)(t,2),r=a[0],l=(a[1],Object(n.useState)(-1!==r.indexOf(e.id))),s=Object(o.a)(l,2),i=s[0],m=s[1];return c.a.createElement("li",null,c.a.createElement("button",{onClick:function(){i?(m(!1),e.getValue(-e.id)):(m(!0),e.getValue(e.id))}},i?c.a.createElement(h.a,{icon:O.a,color:"white"}):c.a.createElement(h.a,{icon:j.a,color:"white"})))};var y=function(e){function t(t){e.getValue(t)}return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},e.cards.map((function(e){return c.a.createElement("div",{className:"col-xl-4 col-lg-6",key:e.id},c.a.createElement("div",{className:"card mb-4 movie"},null==e.poster_path?c.a.createElement("img",{src:"https://www.nyfa.edu/student-resources/wp-content/uploads/2015/03/Blank-Movie-Poster1.jpg",alt:"generic image"}):c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title}),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"date"},c.a.createElement("span",null,E()(e.release_date).format("MMM d YYYY"))),c.a.createElement("ul",{className:"menu-content"},c.a.createElement(N,{getValue:t,id:e.id}),c.a.createElement("li",null,c.a.createElement("span",null,e.vote_average," / 10")))),c.a.createElement("div",{className:"card-text text-center"},c.a.createElement("div",{className:"content"},c.a.createElement("h3",{className:"text-center"},e.title),c.a.createElement("p",{className:"text"},e.overview.substring(0,120)+"..."),c.a.createElement("a",{href:"/movie/".concat(e.id),className:"badge badge-pill badge-info m-3"},"Read more")))))}))))};a(72);var S=function(e){var t=new URLSearchParams(Object(m.g)().search),a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],s=r[1],i=Object(n.useState)(!0),u=Object(o.a)(i,2),d=u[0],b=u[1],v=Object(m.h)(),p=v.list;v.search,p=p||"popular",Object(n.useEffect)((function(){E()}),e.getSearch?[e.getSearch]:[p]);var E=function(){var a,n;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(p,"?api_key=").concat("47c4adc75b16f23db3cf78e4870a4296"),c.prev=1,(e.getSearch||t.get("search"))&&(a="https://api.themoviedb.org/3/search/movie?api_key=47c4adc75b16f23db3cf78e4870a4296&query=".concat(e.getSearch||t.get("search"))),c.next=5,f.a.awrap(g.a.get(a));case 5:n=c.sent,s(n.data.results.slice(0,12)),b(!1),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),console.log(c.t0);case 13:case"end":return c.stop()}}),null,null,[[1,10]])};return c.a.createElement("div",{className:"main-container black"},d?c.a.createElement("div",{className:"lds-ring"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)):0!==l.length?c.a.createElement(y,{cards:l,getValue:function(t){e.getValue(t)}}):c.a.createElement("h2",{className:"text-center display-message"},"Sorry!!! There were no results for your search"))},w=a(27);var x=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),m=i[0],u=i[1];Object(n.useEffect)((function(){d()}),[]);var d=function(){var t,a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("47c4adc75b16f23db3cf78e4870a4296"),n.next=3,f.a.awrap(g.a.get(t));case 3:a=n.sent,l(a.data.genres),b(a.data.genres),e.getIds(a.data.genres.map((function(e){return e.id})));case 7:case"end":return n.stop()}}))};function b(e){var t=[];e.forEach((function(){return t.push(!1)})),u(t)}return c.a.createElement("div",{className:"genres"},r.map((function(t,a){return c.a.createElement("p",{className:"checkbox",key:t.id},c.a.createElement("input",{id:t.id,type:"checkbox",onChange:function(t){!function(t,a){var n=m;n[a]=t.target.checked,u(n),e.getChecked(m)}(t,a)}})," ",t.name)})))};var k=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)({}),b=Object(o.a)(d,2),v=b[0],p=b[1],E=Object(n.useState)(""),h=Object(o.a)(E,2),O=h[0],j=h[1],N=Object(n.useState)([]),S=Object(o.a)(N,2),k=S[0],_=S[1],V=Object(n.useState)([]),M=Object(o.a)(V,2),C=M[0],Y=M[1],R=Object(n.useState)(""),T=Object(o.a)(R,2),I=T[0],J=T[1],A=Object(n.useState)([]),D=Object(o.a)(A,2),P=(D[0],D[1]),U=Object(n.useState)(!0),B=Object(o.a)(U,2),F=B[0],L=B[1];Object(n.useEffect)((function(){$()}),[]),Object(n.useEffect)((function(){Z()}),[]),Object(n.useEffect)((function(){W()}),[I,v,O]);var W=function(){var e,t,a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,""==I&&0===Object.entries(v).length&&""==O){n.next=9;break}return""!=I&&0!==Object.entries(v).length&&""!=O?e="&primary_release_year=".concat(v.id,"&with_genres=").concat(I,"&sort_by=").concat(O.value):""!=I&&0!==Object.entries(v).length?e="&primary_release_year=".concat(v.id,"&with_genres=").concat(I):""!=I&&""!=O?e="&with_genres=".concat(I,"&sort_by=").concat(O.value):0!==Object.entries(v).length&&""!=O?e="&primary_release_year=".concat(v.id,"&sort_by=").concat(O.value):""!=I?e="&with_genres=".concat(I):0!==Object.entries(v).length?e="&primary_release_year=".concat(v.id):""!=O&&(e="&sort_by=".concat(O.value)),t="https://api.themoviedb.org/3/discover/movie?api_key=".concat("47c4adc75b16f23db3cf78e4870a4296"+e),n.next=6,f.a.awrap(g.a.get(t));case 6:a=n.sent,_(a.data.results.slice(0,12)),L(!1);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),null,null,[[0,11]])},Z=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:(e=[]).push({label:"Release date ascending",id:0,value:"release_date.asc"},{label:"Release date descending",id:1,value:"release_date.desc"},{label:"Title (A-Z)",id:2,value:"original_title.asc"},{label:"Title (Z-A)",id:3,value:"original_title.desc"},{label:"Rating Ascending",id:4,value:"vote_average.asc"},{label:"Rating Descending",id:5,value:"vote_average.desc"}),u(e);case 3:case"end":return t.stop()}}))},$=function(){var e,t,a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=[],t=(t=new Date).getFullYear(),e.push({label:"None",id:""}),a=t;a>=1920;a--)e.push({label:a,id:a});l(e);case 6:case"end":return n.stop()}}))};return c.a.createElement("div",{className:"main-container black"},c.a.createElement("div",{className:"discover-main-menu"},c.a.createElement(x,{getChecked:function(e){var t="",a=[];e.forEach((function(e,n){e&&(t=""==t?C[n]:t+","+C[n],a.push(C[n]))})),J(t),console.log(a),P(a)},getIds:function(e){Y(e)}}),c.a.createElement("div",{className:"discover-menu"},c.a.createElement("div",{className:"years"},c.a.createElement("p",{className:"label"},"Year"),c.a.createElement(w.a,{onChange:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:p(e);case 1:case"end":return t.stop()}}))},options:r})),c.a.createElement("div",{className:"sort-by"},c.a.createElement("p",{className:"label"},"Sort"),c.a.createElement(w.a,{onChange:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:j(e);case 1:case"end":return t.stop()}}))},options:m})))),F?c.a.createElement("h2",{className:"text-center"},"Please Select an Option"):0!==k.length?c.a.createElement(y,{cards:k,getValue:function(t){e.getValue(t)}}):c.a.createElement("h2",{className:"text-center"},"No results found"))};var _=function(){return c.a.createElement("div",{className:"About"},c.a.createElement("h1",{className:"About-heading"},"About Page"),c.a.createElement("h3",null,"This page was designed and built by Fausto Gomez and Lucas Johnson. To access the movies we used The Movie Database. This product uses the TMDb API but is not endorsed or certified by TMDb."),c.a.createElement("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/primary-green-d70eebe18a5eb5b166d5c1ef0796715b8d1a2cbc698f96d311d62f894ae87085.svg",alt:"The Movie Database logo"}))};var V=function(e){var t=Object(n.useState)(e.rating||0),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(d(r)),i=Object(o.a)(s,2),m=i[0],u=i[1];function d(e){for(var t=[];e>0;)t.push(!0),e--;for(var a=5-t.length;a>0;)t.push(!1),a--;return t}return Object(n.useEffect)((function(){d(r),e.getStars(r,e.id)}),[r]),c.a.createElement("div",null,c.a.createElement("button",{className:"Rating",onClick:function(){return function(){var t=r;t>=5?(l(0),t=0):(t++,l(t)),u(d(t)),e.getStars(r,e.id)}()}},m.map((function(e,t){return e?c.a.createElement(h.a,{key:t,icon:O.b,color:"black"}):c.a.createElement(h.a,{key:t,icon:j.b,color:"black"})}))),c.a.createElement("button",{className:"Rating",onClick:function(){e.getStars(r,-e.id),d(0)}},"Unrate"))},M=a(41);function C(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),r=a[0],l=a[1],s=Object(m.h)().id,i=JSON.parse(localStorage.getItem("StarObject"))||{},u=Object(n.useState)(i[s]||!1),d=Object(o.a)(u,2),b=d[0],v=d[1];return Object(n.useEffect)((function(){!function(e){f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=47c4adc75b16f23db3cf78e4870a4296&language=en-US")));case 2:t.sent.json().then((function(e){l(e)}));case 4:case"end":return t.stop()}}))}(s)}),[e]),c.a.createElement("div",{className:"container mt-4"},c.a.createElement("div",{className:"row ml-auto mr-auto"},c.a.createElement("div",{className:"col align-self-right"},c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img-top movie",src:"https://image.tmdb.org/t/p/w500".concat(r.poster_path),alt:r.title}),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row date info"},c.a.createElement("span",{className:"col"},"Release Date: ",E()(r.release_date).format("MMM d YYYY")),c.a.createElement("span",{className:"col"},"Budget: ",c.a.createElement(M.a,{value:r.budget,displayType:"text",thousandSeparator:!0,prefix:"$"})),c.a.createElement("span",{className:"col"},r.tagline)),c.a.createElement("ul",{className:"menu-content"},c.a.createElement(N,{getValue:function(t){e.getValue(t)},id:s}),c.a.createElement("li",null,c.a.createElement("a",{href:"#",className:"fa fa-heart-o"},c.a.createElement("span",null,r.vote_average))))),b&&c.a.createElement(V,{id:s,getStars:function(t,a){e.getStars(t,a),a<0&&v(!1)},rating:e.ratings[s]}),c.a.createElement("div",{className:"movie-text card-text"},c.a.createElement("div",{className:"content"},c.a.createElement("p",{className:"text"},r.overview))),c.a.createElement("div",{className:"text-center"},!b&&c.a.createElement("button",{className:"rate-button badge badge-pill badge-info m-3",onClick:function(){v(!0)}},"Rate"))))))}var Y=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){e.movies.forEach((function(e){!function(e){var t;f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=47c4adc75b16f23db3cf78e4870a4296&language=en-US")));case 2:t=a.sent;try{t.json().then((function(e){l((function(t){return[].concat(Object(s.a)(t),[e])}))}))}catch(n){console.log(n)}case 4:case"end":return a.stop()}}))}(e)}))}),[]),c.a.createElement("div",{className:"main-container black"},0!==r.length?c.a.createElement(y,{cards:r,getValue:function(t){e.getValue(t)}}):c.a.createElement("h2",{className:"text-center display-message"},"Sorry you have no favourited movies. Search for a movie to add to your favourites."))};var R=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],l=a[1];function i(t){e.getValue(t)}function m(t,a){e.getStars(t,a)}return Object(n.useEffect)((function(){Object.keys(e.movies).forEach((function(e,t){!function(e){var t;f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=47c4adc75b16f23db3cf78e4870a4296&language=en-US")));case 2:t=a.sent,console.log(e),t.json().then((function(e){l((function(t){return[].concat(Object(s.a)(t),[e])}))})),console.log(r);case 6:case"end":return a.stop()}}))}(e)}))}),[e.movies]),c.a.createElement("div",{className:"main-container black"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"d-lg-flex flex-wrap justify-content-end"},0!==r.length?r.map((function(t){return c.a.createElement("div",{className:"col ml-auto",key:t.id},c.a.createElement("div",{className:"card mb-4  movie"},c.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title}),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row date info"},c.a.createElement("span",{className:"col"},E()(t.release_date).format("MMM d YYYY")),c.a.createElement("span",{className:"col"},c.a.createElement(V,{id:t.id,getStars:m,rating:e.movies[t.id]}))),c.a.createElement("ul",{className:"menu-content"},c.a.createElement(N,{getValue:i,id:t.id}),c.a.createElement("li",null,c.a.createElement("a",{href:"#",className:"fa fa-heart-o"},c.a.createElement("span",null,t.vote_average))))),c.a.createElement("div",{className:"card-text text-center"},c.a.createElement("div",{className:"content"},c.a.createElement("h3",{className:"text-center"},t.title),c.a.createElement("p",{className:"text"},t.overview.substring(0,120)+"..."),c.a.createElement("a",{href:"/movie/".concat(t.id),className:"badge badge-pill badge-info m-3"},"Read more")))))})):c.a.createElement("h2",null,"Sorry you have no rated movies. Search for a movie to rate it."))))};var T=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("favorites"))||[]),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(JSON.parse(localStorage.getItem("StarObject"))||{}),u=Object(o.a)(l,2),b=u[0],f=u[1],v=Object(n.useState)(""),g=Object(o.a)(v,2),p=g[0],E=g[1];function h(e){e>0?-1===a.indexOf(e)&&r([].concat(Object(s.a)(a),[e])):r(a.filter((function(t){return t!==-e})))}function O(e,t){if(t>0){var a=b;a[t]=e,f(a)}else if(t<0){var n=b;delete n[-t],console.log(n)}localStorage.setItem("StarObject",JSON.stringify(b))}return Object(n.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(a))}),[a]),Object(n.useEffect)((function(){localStorage.setItem("StarObject",JSON.stringify(b))}),[b]),c.a.createElement(i.a,null,c.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Montserrat&display=swap",rel:"stylesheet"}),c.a.createElement("div",{className:"App black"},c.a.createElement(d,{getValue:function(e){E(e)}}),c.a.createElement(m.d,null,c.a.createElement(m.b,{path:"/about",component:_}),c.a.createElement(m.b,{path:"/discover"},c.a.createElement(k,{getValue:h,movies:b})),c.a.createElement(m.b,{path:"/movie/:id"},c.a.createElement(C,{getStars:O,ratings:b})),c.a.createElement(m.b,{path:"/favorites"},c.a.createElement(Y,{movies:a,getValue:h})),c.a.createElement(m.b,{path:"/ratings"},c.a.createElement(R,{movies:b,getValue:h,getStars:O})),c.a.createElement(m.b,{path:"/:list"},c.a.createElement(S,{getValue:h,getSearch:p})),c.a.createElement(m.b,{default:!0},c.a.createElement(S,{getValue:h})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.f13830a6.chunk.js.map